{% extends "base.html" %}
{% load static %}

{% block title %}Избранные акции{% endblock %}

{% block extra_head %}
  <link href="{% static 'css/favorites.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<h2 style="margin-bottom: 20px;">Мои избранные акции</h2>

{% if favorites %}
  <div class="cards" id="favorites-container">
    {% for deal in favorites %}
      <div class="card" data-deal-id="{{ deal.id }}">
        <img src="{{ deal.image_url|default:'/static/images/placeholder.jpg' }}" alt="{{ deal.title }}">

        <div class="card-body">
          <h3>{{ deal.title }}</h3>

          <p class="price">
            <span class="old">{{ deal.price_original }} ₽</span>
            <span class="new">{{ deal.price_discount }} ₽</span>
          </p>

          <div class="buttons">
            <a href="{% url 'discounts:deal_detail' deal.id %}" class="btn-custom">Подробнее</a>
            <button class="btn-custom btn-delete" data-id="{{ deal.id }}">Удалить</button>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <p class="text-muted" id="empty-message">У вас пока нет избранных акций</p>
{% endif %}

<script src="{% static 'js/favorites.js' %}"></script>
{% endblock %}